{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\filip\\\\OneDrive\\\\SKOLA\\\\Webbutveckling\\\\react-test\\\\test-app\\\\src\\\\SubscribeBtn.js\";\nimport React, { Component } from 'react';\nexport class SubscribeBtn extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      this.setState({\n        subscribed: this.props.subbed\n      });\n    };\n\n    this.subscribeUser = e => {\n      e.preventDefault();\n      var id = this.props.personId;\n      const data = {\n        subscribed: true\n      };\n      fetch(`http://localhost:4000/users/${id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      }).then(response => response.json()).then(data => {\n        console.log('Success:', data);\n      }).catch(error => {\n        console.error('Error:', error);\n      });\n    };\n\n    this.checkIfSubbed = () => {\n      if (this.state.subscribed) {\n        return /*#__PURE__*/React.createElement(\"button\", {\n          onClick: this.subscribeUser,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 21\n          }\n        }, \"Subscribe\");\n      } else if (!this.state.subscribed) {\n        return /*#__PURE__*/React.createElement(\"button\", {\n          onClick: this.subscribeUser,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 21\n          }\n        }, \"Unsubscribe\");\n      } else {\n        console.error(\"sub is null\");\n      }\n    };\n\n    this.state = {\n      subscribed: null\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    });\n  }\n\n}\nexport default SubscribeBtn;","map":{"version":3,"sources":["C:/Users/filip/OneDrive/SKOLA/Webbutveckling/react-test/test-app/src/SubscribeBtn.js"],"names":["React","Component","SubscribeBtn","constructor","props","componentDidMount","setState","subscribed","subbed","subscribeUser","e","preventDefault","id","personId","data","fetch","method","headers","body","JSON","stringify","then","response","json","console","log","catch","error","checkIfSubbed","state","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAO,MAAMC,YAAN,SAA2BD,SAA3B,CAAqC;AACxCE,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAKnBC,iBALmB,GAKC,MAAM;AACtB,WAAKC,QAAL,CAAc;AAAEC,QAAAA,UAAU,EAAE,KAAKH,KAAL,CAAWI;AAAzB,OAAd;AACH,KAPkB;;AAAA,SASnBC,aATmB,GASFC,CAAD,IAAO;AACnBA,MAAAA,CAAC,CAACC,cAAF;AAEA,UAAIC,EAAE,GAAG,KAAKR,KAAL,CAAWS,QAApB;AAEA,YAAMC,IAAI,GAAG;AAAEP,QAAAA,UAAU,EAAE;AAAd,OAAb;AAEAQ,MAAAA,KAAK,CAAE,+BAA8BH,EAAG,EAAnC,EAAsC;AACvCI,QAAAA,MAAM,EAAE,KAD+B;AAEvCC,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX,SAF8B;AAKvCC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf;AALiC,OAAtC,CAAL,CAOKO,IAPL,CAOUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAPtB,EAQKF,IARL,CAQUP,IAAI,IAAI;AACVU,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBX,IAAxB;AACH,OAVL,EAWKY,KAXL,CAWYC,KAAD,IAAW;AACdH,QAAAA,OAAO,CAACG,KAAR,CAAc,QAAd,EAAwBA,KAAxB;AACH,OAbL;AAcH,KA9BkB;;AAAA,SAgCnBC,aAhCmB,GAgCH,MAAM;AAClB,UAAI,KAAKC,KAAL,CAAWtB,UAAf,EAA2B;AACvB,4BAAQ;AAAQ,UAAA,OAAO,EAAE,KAAKE,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAR;AACH,OAFD,MAGK,IAAI,CAAC,KAAKoB,KAAL,CAAWtB,UAAhB,EAA4B;AAC7B,4BAAQ;AAAQ,UAAA,OAAO,EAAE,KAAKE,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAR;AACH,OAFI,MAGA;AACDe,QAAAA,OAAO,CAACG,KAAR,CAAc,aAAd;AACH;AACJ,KA1CkB;;AAEf,SAAKE,KAAL,GAAa;AAAEtB,MAAAA,UAAU,EAAE;AAAd,KAAb;AACH;;AAwCDuB,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AAKH;;AAlDuC;AAqD5C,eAAe5B,YAAf","sourcesContent":["import React, { Component } from 'react'\r\n\r\nexport class SubscribeBtn extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { subscribed: null }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.setState({ subscribed: this.props.subbed })\r\n    }\r\n\r\n    subscribeUser = (e) => {\r\n        e.preventDefault();\r\n\r\n        var id = this.props.personId;\r\n\r\n        const data = { subscribed: true };\r\n\r\n        fetch(`http://localhost:4000/users/${id}`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify(data),\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log('Success:', data);\r\n            })\r\n            .catch((error) => {\r\n                console.error('Error:', error);\r\n            });\r\n    }\r\n\r\n    checkIfSubbed = () => {\r\n        if (this.state.subscribed) {\r\n            return (<button onClick={this.subscribeUser}>Subscribe</button>)\r\n        }\r\n        else if (!this.state.subscribed) {\r\n            return (<button onClick={this.subscribeUser}>Unsubscribe</button>)\r\n        }\r\n        else {\r\n            console.error(\"sub is null\")\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SubscribeBtn\r\n"]},"metadata":{},"sourceType":"module"}